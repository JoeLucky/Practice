<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>获取字符串的长度</title>
</head>
<body>
    <pre>
        function strLength(s, bUnicode255For1) {
            if (bUnicode255For1 === true) {
                return s.length;
            }
            var len = 0;
            for(var i = 0;i < s.length;i++) {
                //str.charCodeAt(i)返回字符串str下标为i的字符的unicode编码
                if (s.charCodeAt(i) > 255) {
                    len++;
                }
                len++;
            }
            return len;
        }
        console.log(strLength("这是一个字符串",true));//true:7   false:14
    </pre>
    <script type="text/javascript">
        function strLength(s, bUnicode255For1) {
            if (bUnicode255For1 === true) {
                return s.length;
            }
            var len = 0;
            for(var i = 0;i < s.length;i++) {
                //str.charCodeAt(i)返回字符串str下标为i的字符的unicode编码
                if (s.charCodeAt(i) > 255) {
                    len++;
                }
                len++;
            }
            return len;
        }
        console.log(strLength("这是一个字符串",true));//true:7   false:14
    </script>
</body>
</html>